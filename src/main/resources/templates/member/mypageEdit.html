<!DOCTYPE html>
<html lang="ko">

<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">

<title>Rapid Bootstrap Template - Index</title>
<meta content="" name="description">
<meta content="" name="keywords">

<!-- Favicons -->
<link href="/assets/img/favicon.png" rel="icon">
<link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

<!-- Google Fonts -->
<link
   href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Montserrat:300,400,500,600,700"
   rel="stylesheet">

<!-- Vendor CSS Files -->
<link href="/assets/vendor/aos/aos.css" rel="stylesheet">
<link href="/assets/vendor/bootstrap/css/bootstrap.min.css"
   rel="stylesheet">
<link href="/assets/vendor/bootstrap-icons/bootstrap-icons.css"
   rel="stylesheet">
<link href="/assets/vendor/glightbox/css/glightbox.min.css"
   rel="stylesheet">
<link href="/assets/vendor/swiper/swiper-bundle.min.css"
   rel="stylesheet">

<!--font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
   href="https://fonts.googleapis.com/css2?family=Gothic+A1&display=swap"
   rel="stylesheet">
<!-- =======================================================
    * Template Name: Rapid - v4.10.0
    * Template URL: https://bootstrapmade.com/rapid-multipurpose-bootstrap-business-template/
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->

<!--배너 슬라이드 부트스트랩 링크-->
<link rel="stylesheet"
   href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<script
   src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script
   src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script
   src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<!--슬라이드 부트스트랩 링크 끝-->

<!-- Template Main CSS File -->
<link href="/assets/css/style.css" rel="stylesheet">
<link href="/assets/css/main.css" rel="stylesheet">
<link href="/assets/css/join.css" rel="stylesheet">



<style>

/* 슬라이드 사이즈 */
.carousel-inner img {
   width: 100%;
   height: 100%;
}
</style>
<script src="/assets/js/mypage.js" defer></script>
</head>

<body>
	<!-- ======= Header ======= -->
	<header id="header"
		class="fixed-top d-flex align-items-center header-transparent">
		<div class="container d-flex align-items-center">
			<h1 class="logo me-auto">
				<a href="/pet"><img src="/assets/img/TOGether_PEt_logo.png"
					alt="" class="logo-img"> </a>
			</h1>
			<!-- Uncomment below if you prefer to use an image logo -->
			 <!--  <a href="index.html" class="logo me-auto"><img src="/assets/img/logo.png" alt="" class="img-fluid"></a>-->

			<nav id="navbar" class="navbar order-last order-lg-0">
				<ul>
				
					<li class="dropdown scrollto"><a href="#features"><span>병원</span>
							<i class="bi bi-chevron-down"></i></a>
						<ul>
							<li><a href="/facilities/listpage/hospital/1">병원/약국 전체보기</a></li>
							<li><a href="/facilities/list/all/hospital/1?city=&county=&kind=일반&search=">일반 동물 병원</a></li>
							<li><a href="/facilities/list/all/hospital/1?city=&county=&kind=특수&search=">특수 동물 병원</a></li>
							<li><a href="/facilities/list/all/hospital/1?city=&county=&kind=24&search=">24시간 동물 병원</a></li>
							<li><a href="/facilities/list/all/hospital/1?city=&county=&kind=약국&search=">동물 약국</a></li>
						</ul></li>
					
					
					
					
					<li class="dropdown scrollto"><a href="#why-us"><span>커뮤니티</span>
							<i class="bi bi-chevron-down"></i></a>
						<ul>
						
							<li><a href="/board/1">최신글</a></li>
							<li><a href="/board/post/search/1?day=findallday&type=postType&search=인기글">인기글</a></li>
							<li><a href="/board/post/search/1?day=findallday&type=postType&search=자유게시판">자유게시판</a></li>
							<li><a href="/board/post/search/1?day=findallday&type=postType&search=꿀팁공유">꿀팁공유</a></li>
							<li><a href="/board/post/search/1?day=findallday&type=postType&search=꿀팁요청">꿀팁요청</a></li>
						    <li><a href="/board/post/search/1?day=findallday&type=postType&search=자랑">자랑</a></li>
						    <li><a href="/board/post/search/1?day=findallday&type=postType&search=공지사항">공지사항</a></li>
						</ul></li>
					
					<li class="dropdown scrollto"><a href="#services"><span>시설</span>
							<i class="bi bi-chevron-down"></i></a>
						<ul>
							<li><a href="/facilities/listpage/1">시설 전체보기</a></li>
							<li><a href="/facilities/list/all/1?city=&county=&kind=식당&search=">식당</a></li>
							<li><a href="/facilities/list/all/1?city=&county=&kind=카페&search=">카페</a></li>
							<li><a href="/facilities/list/all/1?city=&county=&kind=용품&search=">쇼핑</a></li>
							<li><a href="/facilities/list/all/1?city=&county=&kind=펜션&search=">숙박시설</a></li>
							<li><a href="/facilities/list/all/1?city=&county=&kind=여행&search=">관광시설</a></li>
							<li><a href="/facilities/list/all/1?city=&county=&kind=미용&search=">미용</a></li>
						</ul></li>

					<th:block th:if="${session.member == null}">
						<li><a class="nav-link scrollto desc-left login"
							data-toggle="modal" data-target="#loginModal">로그인</a></li>
						<li><a class="nav-link scrollto desc-left" href="/pet/join">회원가입</a></li>
					</th:block>

					<th:block th:if="${session.member != null}">
						<li><a class="nav-link scrollto desc-left"
							th:text="|${session.member.name} 님 반갑습니다|">로그아웃</a></li>
						<li><a class="nav-link scrollto desc-left" href="/pet/logout">로그아웃</a></li>
					</th:block>

					<!-- 오류시 스크립트 창 출력 -->
					 <th:block th:if="${err != null}">
						<input type="hidden" th:value="${err}" id="err">
						<script>
							let err = document.querySelector("#err").value
							alert(err);
						</script>
					</th:block>
				</ul>
				<i class="bi bi-list mobile-nav-toggle"></i>
			</nav>
		

		</div>
	</header>
	<!-- End Header -->
   <!--배너 슬라이드 시작-->
   <div class="container " style="margin-top: 100px;">
      <div id="myCarousel" class="carousel slide" data-ride="carousel">
         <!-- Indicators -->
         <ul class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
         </ul>
         <!-- The slideshow -->
         <div class="carousel-inner">
            <div class="carousel-item active">
               <img src="/assets/img/banner3.jpeg" alt="Los Angeles" width="100%"
                  height="300px;">
               <div class="carousel-caption d-none d-md-block"
                  style="line-height: 100px; color: black;">
                  <h5>First slide label</h5>
                  <p>Some representative placeholder content for the first
                     slide.</p>
               </div>
            </div>
            <div class="carousel-item">
               <img src="/assets/img/banner3.jpeg" alt="Chicago" width="100%"
                  height="300px;">
               <div class="carousel-caption d-none d-md-block"
                  style="color: black; line-height: 100px;">
                  <h5>First slide label</h5>
                  <p>Some representative placeholder content for the first
                     slide.</p>
               </div>
            </div>
            <div class="carousel-item">
               <img src="/assets/img/banner3.jpeg" alt="New York" width="100%"
                  height="300px; ">
               <div class="carousel-caption d-none d-md-block"
                  style="color: black; line-height: 100px;">
                  <h5>First slide label</h5>
                  <p>Some representative placeholder content for the first
                     slide.</p>
               </div>
            </div>
         </div>
         <!-- Left and right controls -->
         <a class="carousel-control-prev" href="#myCarousel" data-slide="prev">
            <span class="carousel-control-prev-icon"></span>
         </a> <a class="carousel-control-next" href="#myCarousel"
            data-slide="next"> <span class="carousel-control-next-icon"></span>
         </a>
      </div>
   </div>

   <!--왼쪽 카테고리 -->
   <div class="main">
      <div class="left">
         <ul class="title">
            <li>내 활동
               <ul class="detail">
                  <li><a class="favorite">즐겨찾기</a></li>
                  <li><a class="my_post">내가 쓴 게시글</a></li>
                  <li><a class="my_comment">내가 쓴 댓글</a></li>
                  <li><a class="my_reserve">내 예약 정보</a></li>
               </ul>
            </li>
            <hr>
            <li>회원 정보
               <ul class="detail">
                  <li><a class="edit_info">내 정보 수정</a></li>
                  <li><a class="delete_info">회원탈퇴</a></li>
               </ul>
            </li>
         </ul>
      </div>
      <div class="right">
      <div id="editModal" tabindex="-1"
    aria-labelledby="editModal" aria-hidden="true">
         <form action="/pet/mypageUpdate" method="post">
            <!-- wrapper -->
            <div id="edit-member-info">
               <h3>회원 정보 수정</h3>
               <!--id-->
               <label class="empty">아이디<br> <input type="text"
                  name="id" id="id" class="int" th:value="${session.member.id}"
                  readonly></label><br>
               <!--pw-->
               <label class="empty">비밀번호<br> <input type="password"
                  name="password" id="pswd1" class="int"
                  th:value="${session.member.password}"></label><br>

               <!--name-->
               <label class="empty">이름<br> <input type="text"
                  name="name" id="name" class="int"
                  th:value="${session.member.name}"></label><br>
                  
               <!-- email -->
               <label class="empty">이메일<br> <input type="email"
                  name="email" id="email" class="int"
                  th:value="${session.member.email}"></label><br>
                  
               <!-- phonenum -->
               <label class="empty">전화번호<br> <input type="text"
                  name="phonenum" oninput="phone(this)" x maxlength="13" id="mobile"
                  class="int" th:value="${session.member.phonenum}"></label><br>
                  
               <!-- join btn-->
               <input id="btnEdit" type="submit" value="수정하기"></input>
            </div>
         </form>
         </div>
      </div>
   </div>
   
   <!-- 사이드 바 메뉴 -->
   <script>
  document.querySelector('form').addEventListener('submit', submitServer)

  function submitServer(event){
  
     
    const form = event.target;
    let id = form.userId.value;
    let pwd = form.password.value;
    let pwd2 = form.password2.value;
    let name = form.name.value;
    let yy = form.year.value;
    let mm = form.month.value;
    let dd = form.date.value;
    let email = form.email.value;
    let mob = form.mobile.value;
    
     
    if(!id){
      alert("아이디 입력하세요");
      event.prevenDefault();
      return false;
    }

    if(!pwd){
      alert("비밀번호를 입력하세요");
      event.prevenDefault();
      return false;
    }
    if(!pwd2 && pwd2 != pwd){
      alert("비밀번호가 일치하지 않습니다.");
      event.prevenDefault();
      return false;
    }
  //if(!reg.test(pwd.value)){
  //  alert("비밀번호는 영문자, 숫자, 특수문자 조합으로 8~25자리 사용해야합니다.");
  //  return false;
  //}
    if(!name){
      alert("이름을 입력하세요");
      event.prevenDefault();
      return false;
    }
    if(!mm || !yy || !dd){
      alert("생년월일를 선택하세요.");
      event.prevenDefault();
      return false;
    }
    if(yy > 2023){
      alert("2023 이하의 숫자만 가능합니다.");
      event.prevenDefault();
      return false;
    }
    if(mm < 1 || mm > 12){
      alert("1 ~ 12 사이의 숫자여야합니다.");
      event.prevenDefault();
      return false;
    }
    if(dd < 1 || dd > 31){
      alert("1 ~ 31 사이의 숫자여야합니다.");
      event.prevenDefault();
      return false;
    }

    if(!email){
      alert("이메일을 입력하세요.");
      event.prevenDefault();
      return false;
    }

    if(!mob){
      alert("전화번호를 입력하세요");
      event.prevenDefault();
      return false;
    }

  }

  const phone = (target) => {
    target.value = target.value
      .replace(/[^0-9]/g, '')
      .replace(/^(\d{2,3})(\d{3,4})(\d{4})$/, `$1-$2-$3`);
   }
  </script>
</body>
</html>