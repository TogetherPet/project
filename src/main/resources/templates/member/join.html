<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<link href="/assets/css/join.css" rel="stylesheet">
<link href="/assets/css/style.css" rel="stylesheet">
<link href="/assets/css/main.css" rel="stylesheet">
<script src="/assets/js/fetch.js" type="module" defer></script>
<!--배너 슬라이드 부트스트랩 링크-->
<link rel="stylesheet"
   href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<script
   src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script
   src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script
   src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<body>
  <!-- Header -->
<header id="header"
   class="fixed-top d-flex align-items-center header-transparent">
   <div class="container d-flex align-items-center">
      <h1 class="logo me-auto">
         <a href="/pet"><img src="/assets/img/TOGether_PEt_logo.png"
            alt="logo" class="logo-img"> </a>
      </h1>
      <nav id="navbar" class="navbar order-last order-lg-0">
         <ul>
            <li><a class="nav-link scrollto" href="#about">소개</a></li>
            <li><a class="nav-link scrollto " href="#why-us">커뮤니티</a></li>
            <li class="dropdown scrollto"><a href="#"><span>시설</span> <i
                  class="bi bi-chevron-down"></i></a>
               <ul>
                  <li><a href="#">식당/카페</a></li>
                  <li><a href="#">미용</a></li>
                  <li><a href="#">쇼핑</a></li>
                  <li><a href="#">숙박시설</a></li>
                  <li><a href="#">관광시설</a></li>
                  <li><a href="#">캠핑장</a></li>
               </ul></li>

            <th:block th:if="${session.member == null}">
               <li><a class="nav-link scrollto desc-left login"
                  data-toggle="modal" data-target="#loginModal">로그인</a></li>
               <li><a class="nav-link scrollto desc-left" href="/pet/join">회원가입</a></li>
            </th:block>

            <th:block th:if="${session.member != null}">
               <li><a class="nav-link scrollto desc-left"
               	  href="/pet/mypage"
                  th:text="마이페이지">로그아웃</a></li>
               <li><a class="nav-link scrollto desc-left" href="/pet/logout">로그아웃</a></li>
            </th:block>

            <!-- 오류시 스크립트 창 출력 -->
            <th:block th:if="${err != null}">
               <input type="hidden" th:value="${err}" id="err">
               <script>
                     let err = document.querySelector("#err").value
                     alert(err);
                  </script>
            </th:block>
         </ul>
         <i class="bi bi-list mobile-nav-toggle"></i>
      </nav>
   </div>
</header>

<body>
   <!--배너 슬라이드 시작-->
   <div class="container " style="margin-top: 100px;">
      <div id="myCarousel" class="carousel slide" data-ride="carousel">
         <!-- Indicators -->
         <ul class="carousel-indicators">
            <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#myCarousel" data-slide-to="1"></li>
            <li data-target="#myCarousel" data-slide-to="2"></li>
         </ul>
         <!-- The slideshow -->
         <div class="carousel-inner">
            <div class="carousel-item active">
               <img src="/assets/img/banner3.jpeg" alt="Los Angeles" width="100%"
                  height="300px;">
               <div class="carousel-caption d-none d-md-block"
                  style="line-height: 100px; color: black;">
                  <h5>First slide label</h5>
                  <p>Some representative placeholder content for the first
                     slide.</p>
               </div>
            </div>
            <div class="carousel-item">
               <img src="/assets/img/banner3.jpeg" alt="Chicago" width="100%"
                  height="300px;">
               <div class="carousel-caption d-none d-md-block"
                  style="color: black; line-height: 100px;">
                  <h5>First slide label</h5>
                  <p>Some representative placeholder content for the first
                     slide.</p>
               </div>
            </div>
            <div class="carousel-item">
               <img src="/assets/img/banner3.jpeg" alt="New York" width="100%"
                  height="300px; ">
               <div class="carousel-caption d-none d-md-block"
                  style="color: black; line-height: 100px;">
                  <h5>First slide label</h5>
                  <p>Some representative placeholder content for the first
                     slide.</p>
               </div>
            </div>
         </div>
         <!-- Left and right controls -->
         <a class="carousel-control-prev" href="#myCarousel" data-slide="prev">
            <span class="carousel-control-prev-icon"></span>
         </a> <a class="carousel-control-next" href="#myCarousel"
            data-slide="next"> <span class="carousel-control-next-icon"></span>
         </a>
      </div>
   </div>


  <form action="/pet/join" method="post" id="form">
    <!-- wrapper -->
      <div id="wrapper">
        <!--id-->
        <input type="text" name="id" id="id" class="int" value="id" placeholder="아이디"><br>
        <div id="id-message"></div>
        <!--pw-->
        <input type="password" name="password" id="pswd1" class="int" value="a"  placeholder="비밀번호"><br>
        <!--pw check-->
        <input type="password" name="password2" id="pswd2" class="int" value="a" placeholder="비밀번호 확인"><br>
        <!--name-->
        <input type="text" name="name" id="name" class="int" value="ㄴ" placeholder="이름"><br>
        <!--birth-->
        <input type="text" name="year" id="yy" class="int" placeholder="년(4자)" value="1996">
        <input type="text" name="month" id="mm" class="int" placeholder="월" value="01">              
        <input type="text" name="date" id="dd" class="int" placeholder="일" value="04"><br>
        <select name="gender" id="gender" class="int">
          <option value="">성별을 선택하세요.</option>
          <option value="male">남자</option>
          <option value="female">여자</option>
        </select><br>
        <!-- EMAIL -->
           <input type="email" name="email" id="email" class="int" placeholder="이메일" value="a@naver.com"><br>
        <!-- MOBILE -->
            <input type="text" name="phonenum" oninput="phone(this)" maxlength="13" id="mobile" class="int" placeholder="휴대전화"><br>
        <!-- JOIN BTN-->
            <input type="submit" value="회원 가입하기">
        </div> 
  </form>
  <!-- 회원가입 유효성 검증 -->
   <script>
  document.querySelector('#form').addEventListener('submit', submitServer)

  function submitServer(event){
    const form = event.target;
    let id = form.id.value;
    let pwd = form.password.value;
    let pwd2 = form.password2.value;
    let name = form.name.value;
    let yy = form.yy.value;
    let mm = form.mm.value;
    let dd = form.dd.value;
    let email = form.email.value;
    let phonenum = form.phonenum.value;
    
     
    if(!id){
      alert("아이디 입력하세요");
      event.preventDefault();
      return false;
    }

    if(!pwd){
      alert("비밀번호를 입력하세요");
      event.preventDefault();
      return false;
    }
    
    if(!pwd2 && pwd2 != pwd){
      alert("비밀번호가 일치하지 않습니다.");
      event.prevenDefault();
      return false;
    }
  // f(!reg.test(pwd.value)){
  //  alert("비밀번호는 영문자, 숫자, 특수문자 조합으로 8~25자리 사용해야합니다.");
  //  return false;
  //}
    if(!name){
      alert("이름을 입력하세요");
      event.prevenDefault();
      return false;
    }
    
    if(!mm || !yy || !dd){
      alert("생년월일를 선택하세요.");
      event.prevenDefault();
      return false;
    }
    
    if(yy > 2023){
      alert("2023 이하의 숫자만 가능합니다.");
      event.preventDefault();
      return false;
    }
    
    if(mm < 1 || mm > 12){
      alert("1 ~ 12 사이의 숫자여야합니다.");
      event.preventDefault();
      return false;
    } 
    
    if(dd < 1 || dd > 31){
      alert("1 ~ 31 사이의 숫자여야합니다.");
      event.preventDefault();
      return false;
    }

    if(!email){
      alert("이메일을 입력하세요.");
      event.preventDefault();
      return false;
    }

    if(!phonenum){
      alert("전화번호를 입력하세요");
      event.preventDefault();
      return false;
    }
  }
  
  const phone = (target) => {
    target.value = target.value
      .replace(/[^0-9]/g, '')
      .replace(/^(\d{2,3})(\d{3,4})(\d{4})$/, `$1-$2-$3`);
   }
  </script>

 </body>
</html>
</body>
</html>